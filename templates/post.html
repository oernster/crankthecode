{% extends "base.html" %}

{% block title %}{{ post.title }} | CrankTheCode{% endblock %}

{% block content %}
  <div class="post-heading">
    <h1>{{ post.title }}</h1>
    <p><small>{{ post.date }} ~ Tags: {{ post.tags | join(", ") }}</small></p>
    {% if post.one_liner or post.blurb %}
      <p class="post-one-liner">{{ post.one_liner or post.blurb }}</p>
    {% endif %}
  </div>

  {# Per-post flourish: AxisDB install prompt above the cover image #}
  {% if post.slug == 'axisdb' %}
    <div class="fake-terminal" aria-label="Install AxisDB">
      <div class="fake-terminal__title">bash</div>
      <pre class="fake-terminal__body"><code>user@linux:~$ pip install axisdb<span class="fake-terminal__cursor" aria-hidden="true"></span></code></pre>
    </div>
  {% endif %}

  {% if post.cover_image_url %}
    <img class="post-cover" src="{{ post.cover_image_url }}" alt="{{ post.title }}" />
  {% endif %}
  {% if post.extra_image_urls %}
    <div class="post-extra-images" aria-label="Additional images">
      {% for url in post.extra_image_urls %}
        <img class="post-extra-image" src="{{ url }}" alt="{{ post.title }}" loading="lazy" />
      {% endfor %}
    </div>
  {% endif %}
  <div class="post-content{% if post.slug == 'hello-crank' %} post-content--centered{% endif %}">
    {{ post.content | safe }}
  </div>
{% endblock %}
