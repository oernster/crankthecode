<!DOCTYPE html>
<html>
<head>
  <title>CrankTheCode</title>
  <link rel="stylesheet" href="/static/styles.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="alternate" type="application/rss+xml" title="CrankTheCode RSS" href="/rss.xml">
</head>
<body>
  <header class="site-header">
    <h1 class="site-title">CrankTheCode</h1>
    <div class="header-actions">
      <button
        class="icon-btn search-toggle"
        type="button"
        aria-label="Search"
        aria-expanded="false"
        aria-controls="search-panel"
      >
        üîç
      </button>
      <a class="rss-link" href="/rss.xml" aria-label="RSS feed">
        <img class="rss-icon" src="/static/rss.svg" alt="" />
      </a>
    </div>
  </header>
  <div id="search-panel" class="search-panel" hidden>
    <label class="visually-hidden" for="site-search">Search posts</label>
    <div class="search-input-wrap">
      <input
        id="site-search"
        class="search-input"
        type="search"
        placeholder="Search posts‚Ä¶"
        autocomplete="off"
      />
      <button
        class="search-close"
        type="button"
        aria-label="Close search"
        title="Close search"
      >
        ‚úï
      </button>
    </div>
  </div>
  <ul>
    {% for post in posts %}
      <li class="post-item" data-search="{{ (post.title ~ ' ' ~ (post.tags | join(' '))) | lower }}">
        <a class="btn-link" href="/posts/{{ post.slug }}">{{ post.title }}</a><br>
        <small>{{ post.date }} ‚Äî Tags:
          {% for tag in post.tags %}
            <span class="tag">{{ tag }}</span>
          {% endfor %}
        </small><br>
        <p>{{ post.summary_text }}</p>
      </li>
    {% endfor %}
  </ul>
  <script src="/static/search.js" defer></script>
</body>
</html>
