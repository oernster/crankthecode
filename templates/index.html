{% extends "base.html" %}

{% block title %}CrankTheCode{% endblock %}

{% block content %}
  <section class="landing-intro" aria-label="Intro">
    <div class="section-panel section-panel--intro">
      <div class="hero">
        <div class="hero__avatar">
          <img
            class="hero__avatar-img"
            src="/static/images/me-hero.jpg"
            alt="Portrait of the site author"
            width="120"
            height="120"
            loading="eager"
            decoding="async"
          />
        </div>
        <div class="hero__copy">
          <h1 class="hero__headline">
            I build clean, efficient software that solves problems no one asked about â€” but secretly needed solved.
          </h1>
          <p class="hero__tagline">
            <i>I turn vague ideas and overcomplicated specs into functional tools that mostly behave.</i>
          </p>
          <p class="hero__subline">
            Developer with 28 years of experience across defence, cloud systems, automation, and full-stack apps.
            I like sharp APIs, robust tooling, and documentation that doesnâ€™t talk down to you.
          </p>
        </div>
      </div>

      <hr class="post-separator post-separator--subtle" aria-hidden="true" />

      <h2 class="section-title section-title--accent">Things I build with</h2>
      <div class="build-with" aria-label="Things I build with">
        <div class="build-with-col">
          <h3 class="build-with-title">Backend</h3>
          <p class="build-with-items">Python, FastAPI, Django, Flask</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Frontend</h3>
          <p class="build-with-items">React, Typescript, HTML/CSS</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Tools</h3>
          <p class="build-with-items">Docker, Ansible, Terraform, Git</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Operating systems</h3>
          <p class="build-with-items">Linux, macOS, Windows</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Hardware</h3>
          <p class="build-with-items">Klipper, MicroPython, Voron / other 3D printers</p>
        </div>
      </div>
    </div>
  </section>

  <section class="featured-projects" aria-label="Projects">
    <div class="section-panel section-panel--featured">
      <h2 class="section-title section-title--accent">Featured Projects...</h2>
      <div class="featured-buttons" aria-label="Featured project links">
        {% for p in homepage_projects.featured %}
          <a
            class="btn-link btn-link--with-thumb{% if loop.first %} btn-link--primary featured-primary{% endif %}"
            href="/posts/{{ p.slug }}"
          >
            {% set cover = homepage_thumb_index.get(p.slug) or homepage_cover_index.get(p.slug) %}
            {% set blurb = homepage_blurb_index.get(p.slug) %}
            {% if p.slug == 'blog1' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ”</span>
            {% elif p.slug == 'calendifier' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ“…</span>
            {% elif p.slug == 'elevator' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ›—</span>
            {% elif p.slug == 'audiodeck' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ”Š</span>
            {% elif p.slug == 'galacticunicorn' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ¦„</span>
            {% elif p.slug == '3D-printer-launcher' %}
              <img class="btn-thumb" src="/static/images/3dprinterlauncher-icon.png" alt="{{ p.label }}" loading="lazy" />
            {% elif p.slug == 'fancy-clock' %}
              <img class="btn-thumb" src="/static/images/fancyclock-icon.png" alt="{{ p.label }}" loading="lazy" />
            {% elif cover %}
              <img class="btn-thumb" src="{{ cover }}" alt="{{ p.label }}" loading="lazy" />
            {% endif %}
            <span class="btn-text">
              {{ p.label }}
              {% if blurb %}
                <span class="btn-subtext">{{ blurb }}</span>
              {% endif %}
            </span>
          </a>
        {% endfor %}
      </div>
    </div>

    <hr class="post-separator" aria-hidden="true" />

    <div class="section-panel section-panel--backlog">
      <h2 class="section-title section-title--accent">Backlog of Brilliance!</h2>
      <div class="featured-buttons" aria-label="Backlog project links">
        {% for p in homepage_projects.backlog %}
          <a class="btn-link btn-link--with-thumb" href="/posts/{{ p.slug }}">
            {% set cover = homepage_thumb_index.get(p.slug) or homepage_cover_index.get(p.slug) %}
            {% set blurb = homepage_blurb_index.get(p.slug) %}
            {% if p.slug == 'blog1' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ”</span>
            {% elif p.slug == 'calendifier' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ“…</span>
            {% elif p.slug == 'elevator' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ›—</span>
            {% elif p.slug == 'audiodeck' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ”Š</span>
            {% elif p.slug == 'galacticunicorn' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ¦„</span>
            {% elif p.slug == '3D-printer-launcher' %}
              <img class="btn-thumb" src="/static/images/3dprinterlauncher-icon.png" alt="{{ p.label }}" loading="lazy" />
            {% elif p.slug == 'fancy-clock' %}
              <img class="btn-thumb" src="/static/images/fancyclock-icon.png" alt="{{ p.label }}" loading="lazy" />
            {% elif cover %}
              <img class="btn-thumb" src="{{ cover }}" alt="{{ p.label }}" loading="lazy" />
            {% endif %}
            <span class="btn-text">
              {{ p.label }}
              {% if blurb %}
                <span class="btn-subtext">{{ blurb }}</span>
              {% endif %}
            </span>
          </a>
        {% endfor %}

        <a class="btn-link btn-link--all" href="/posts" aria-label="All posts">All</a>
      </div>
    </div>

    <hr class="post-separator" aria-hidden="true" />

    <div class="section-panel section-panel--launch">
      <h2 class="section-title section-title--accent">Site Launch...</h2>
      <div class="featured-buttons" aria-label="Site launch posts">
        <a class="btn-link btn-link--with-thumb" href="/posts/hello-crank">
          {% set cover = homepage_cover_index.get('hello-crank') %}
          {% if cover %}
            <img class="btn-thumb" src="{{ cover }}" alt="Hello Crank" loading="lazy" />
          {% endif %}
          <span class="btn-text">Hello Crank</span>
        </a>
        <a class="btn-link btn-link--with-thumb" href="/posts/why-crank">
          {% set cover = homepage_cover_index.get('why-crank') %}
          {% if cover %}
            <img class="btn-thumb" src="{{ cover }}" alt="Why Crank" loading="lazy" />
          {% endif %}
          <span class="btn-text">Why Crank</span>
        </a>

        <a class="btn-link btn-link--with-thumb" href="/posts/blog1">
          {% set cover = homepage_cover_index.get('blog1') %}
          {% if cover %}
            <img class="btn-thumb" src="{{ cover }}" alt="This blog" loading="lazy" />
          {% else %}
            <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ”</span>
          {% endif %}
          <span class="btn-text">This blog</span>
        </a>

        <a class="btn-link btn-link--with-thumb" href="/posts/blog2">
          {% set cover = homepage_cover_index.get('blog2') %}
          {% if cover %}
            <img class="btn-thumb" src="{{ cover }}" alt="Chaos Contained: January 2026 Update" loading="lazy" />
          {% else %}
            <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ§ª</span>
          {% endif %}
          <span class="btn-text">Chaos Contained: January 2026 Update</span>
        </a>

        <a class="btn-link btn-link--with-thumb" href="/posts/blog3">
          {% set cover = homepage_cover_index.get('blog3') %}
          {% if cover %}
            <img class="btn-thumb" src="{{ cover }}" alt="Command Centre Blog Update" loading="lazy" />
          {% else %}
            <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ğŸ§ </span>
          {% endif %}
          <span class="btn-text">Command Centre Blog Update</span>
        </a>
      </div>

      {# CTA moved to the global header (below â€œCrank The Codeâ€) in base.html #}
    </div>
  </section>

  <section class="landing-outro" aria-label="Outro">
    <div class="section-panel section-panel--intro">
      <p>
        If youâ€™re here to hire me, collaborate, or just gawk at the DIY chaos - welcome.
        I build functional, overengineered nonsense with just enough polish to pass as professional.
      </p>
      <p>
        If you want to work together, debate API design, or swap horror stories about legacy code, 
        feel free to get in touch:
        <span class="landing-outro__email">
          <script type="text/javascript">
            // Keep the email address out of the static HTML to reduce bot scraping.
            (function () {
              const user = "oernster";
              const domain = "codecrafter.uk";
              const link = "mai" + "lto:" + user + "@" + domain;
              document.currentScript.insertAdjacentHTML(
                "beforebegin",
                `<a href="${link}">${user}@${domain}</a>`
              );
            })();
          </script>
          <noscript>Enable JavaScript to reveal the email address.</noscript>
        </span>
      </p>
    </div>
  </section>
{% endblock %}
