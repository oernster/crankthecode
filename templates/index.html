{% extends "base.html" %}

{% block title %}Crank The Code - Python Engineering Blog by Oliver Ernster{% endblock %}

{% block content %}
  <section class="landing-intro" aria-label="Intro">
    <div class="section-panel section-panel--intro">
      <div class="hero">
        <div class="hero__avatar">
          <img
            class="hero__avatar-img"
            src="/static/images/me-hero.jpg"
            alt="Portrait of the site author"
            width="120"
            height="120"
            loading="eager"
            decoding="async"
          />
        </div>
        <div class="hero__copy">
          <h1 class="hero__headline">
            I design technical systems and decision boundaries that scale.
          </h1>

          <p class="hero__tagline">
            <i>Reducing decision latency. Aligning authority with accountability.</i>
          </p>

          <p class="hero__subline">
            CTO-level technical leader with extensive experience shaping architecture, operating models and delivery systems across regulated and high-risk environments.
          </p>

          <p class="hero__subline">
            I operate where product ambition meets technical constraint and organisational structure - designing platforms and decision surfaces that reduce coordination cost and preserve strategic focus.
          </p>

          <p class="hero__subline">
            Deeply technical. Structurally minded. Comfortable in code and accountable at executive level.
          </p>

          <div class="hero-actions" aria-label="Primary actions">
            <a href="#contact" class="cta-button">üì© Hire Me</a>
            <a class="cta-button" href="/docs/CV-Oliver.pdf" download>üìÑ Download my CV</a>
          </div>
        </div>
      </div>

      <hr class="post-separator post-separator--subtle" aria-hidden="true" />

      <h2 class="section-title section-title--accent">Things I build with</h2>
      <div class="build-with" aria-label="Things I build with">
        <div class="build-with-col">
          <h3 class="build-with-title">Backend</h3>
          <p class="build-with-items">Python, FastAPI, Django, Flask</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Frontend</h3>
          <p class="build-with-items">React, Typescript, HTML/CSS</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Tools</h3>
          <p class="build-with-items">Docker, Ansible, Terraform, Git</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Operating systems</h3>
          <p class="build-with-items">Linux, macOS, Windows</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Hardware</h3>
          <p class="build-with-items">Klipper, MicroPython, Voron / other 3D printers</p>
        </div>
      </div>
    </div>
  </section>

  <section class="featured-projects" aria-label="Projects">
    <p class="muted" style="margin: 0 0 10px 0; font-size: 0.9rem;" aria-label="Ordering note">
      All posts are listed in reverse chronological order.
    </p>

    <section class="section-panel section-panel--backlog" aria-labelledby="leadership-heading">
      <h2 id="leadership-heading" class="section-title section-title--accent">Decision Architecture</h2>
      <div class="featured-buttons" aria-label="Decision Architecture links">
        {% if homepage_projects.leadership and (homepage_projects.leadership|length) > 0 %}
          {% for g in homepage_projects.leadership %}
            <div class="featured-group" aria-label="Leadership layer group">
              <h3 class="featured-group-title">{{ g.label }}</h3>
              <div class="featured-group-items">
                {% for p in g.posts %}
                  <a class="btn-link btn-link--with-thumb" href="/posts/{{ p.slug }}">
                    {% set emoji = homepage_emoji_index.get(p.slug) %}
                    {% if (emoji or '')|length > 0 %}
                      <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">{{ emoji }}</span>
                    {% else %}
                      <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">‚ôüÔ∏è</span>
                    {% endif %}
                    <span class="btn-text">{{ p.label }}</span>
                  </a>
                {% endfor %}
              </div>
            </div>
          {% endfor %}
        {% else %}
          <div class="empty-state" aria-label="No leadership posts yet">
            <p class="muted">No leadership posts yet.</p>
          </div>
        {% endif %}
      </div>
    </section>

    <hr class="post-separator" aria-hidden="true" />

    <section class="section-panel section-panel--featured" aria-labelledby="featured-projects-heading">
        <h2 id="featured-projects-heading" class="section-title section-title--accent">Featured Projects</h2>
        <div class="featured-buttons" aria-label="Featured project links">
          {% for p in homepage_projects.featured %}
            <a
              class="btn-link btn-link--with-thumb{% if loop.first %} btn-link--primary featured-primary{% endif %}"
              href="/posts/{{ p.slug }}"
            >
              {% set cover = homepage_thumb_index.get(p.slug) or homepage_cover_index.get(p.slug) %}
              {% set blurb = homepage_blurb_index.get(p.slug) %}
              {% set emoji = homepage_emoji_index.get(p.slug) or p.emoji %}
              {% if (emoji or '')|length > 0 %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">{{ emoji }}</span>
              {% elif p.slug == 'calendifier' %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">üìÖ</span>
              {% elif p.slug == 'elevator' %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">üõó</span>
              {% elif p.slug == 'audiodeck' %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">üîä</span>
              {% elif p.slug == 'galacticunicorn' %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ü¶Ñ</span>
              {% elif p.slug == '3D-printer-launcher' %}
                <img class="btn-thumb" src="/static/images/3dprinterlauncher-icon.png" alt="{{ p.label }}" loading="lazy" />
              {% elif p.slug == 'fancy-clock' %}
                <img class="btn-thumb" src="/static/images/fancyclock-icon.png" alt="{{ p.label }}" loading="lazy" />
              {% elif cover %}
                <img class="btn-thumb" src="{{ cover }}" alt="{{ p.label }}" loading="lazy" />
              {% endif %}
            <span class="btn-text">
              {{ p.label }}
              {% if blurb %}
                <span class="btn-subtext">{{ blurb }}</span>
              {% endif %}
            </span>
          </a>
        {% endfor %}
      </div>
    </section>

    <hr class="post-separator" aria-hidden="true" />

    <section class="section-panel section-panel--backlog" aria-labelledby="backlog-heading">
      <h2 id="backlog-heading" class="section-title section-title--accent">Backlog of Brilliance!</h2>
      <div class="featured-buttons" aria-label="Backlog project links">
        {% for p in homepage_projects.backlog %}
          <a class="btn-link btn-link--with-thumb" href="/posts/{{ p.slug }}">
            {% set cover = homepage_thumb_index.get(p.slug) or homepage_cover_index.get(p.slug) %}
            {% set blurb = homepage_blurb_index.get(p.slug) %}
            {% set emoji = homepage_emoji_index.get(p.slug) or p.emoji %}
            {% if (p.emoji or '')|length > 0 %}
              <span
                class="btn-thumb btn-thumb--emoji{% if p.slug in ['bots', 'hardware-guides-are-accidental-bios'] %} btn-thumb--emoji-multi{% endif %}"
                aria-hidden="true"
              >
                {{ p.emoji }}
              </span>
              {% elif (emoji or '')|length > 0 %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">{{ emoji }}</span>
              {% elif p.slug == 'calendifier' %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">üìÖ</span>
              {% elif p.slug == 'elevator' %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">üõó</span>
              {% elif p.slug == 'audiodeck' %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">üîä</span>
            {% elif p.slug == 'galacticunicorn' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ü¶Ñ</span>
            {% elif p.slug == '3D-printer-launcher' %}
              <img class="btn-thumb" src="/static/images/3dprinterlauncher-icon.png" alt="{{ p.label }}" loading="lazy" />
            {% elif p.slug == 'fancy-clock' %}
              <img class="btn-thumb" src="/static/images/fancyclock-icon.png" alt="{{ p.label }}" loading="lazy" />
            {% elif cover %}
              <img class="btn-thumb" src="{{ cover }}" alt="{{ p.label }}" loading="lazy" />
            {% endif %}
            <span class="btn-text">
              {{ p.label }}
              {% if blurb %}
                <span class="btn-subtext">{{ blurb }}</span>
              {% endif %}
            </span>
          </a>
        {% endfor %}

        <a class="btn-link btn-link--all" href="/posts" aria-label="All posts">All</a>
      </div>
    </section>

    <hr class="post-separator" aria-hidden="true" />

    <section class="section-panel section-panel--backlog" aria-labelledby="tooling-heading">
      <h2 id="tooling-heading" class="section-title section-title--accent">Tooling</h2>
      <div class="featured-buttons" aria-label="Tooling links">
        {% for p in homepage_projects.tooling %}
          <a class="btn-link btn-link--with-thumb" href="/posts/{{ p.slug }}">
            {% set cover = homepage_thumb_index.get(p.slug) or homepage_cover_index.get(p.slug) %}
            {% set blurb = homepage_blurb_index.get(p.slug) %}
            {% set emoji = homepage_emoji_index.get(p.slug) or p.emoji %}
            {% if (p.emoji or '')|length > 0 %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">{{ p.emoji }}</span>
              {% elif (emoji or '')|length > 0 %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">{{ emoji }}</span>
              {% elif p.slug == 'calendifier' %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">üìÖ</span>
              {% elif p.slug == 'elevator' %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">üõó</span>
              {% elif p.slug == 'audiodeck' %}
                <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">üîä</span>
            {% elif p.slug == 'galacticunicorn' %}
              <span class="btn-thumb btn-thumb--emoji" aria-hidden="true">ü¶Ñ</span>
            {% elif p.slug == '3D-printer-launcher' %}
              <img class="btn-thumb" src="/static/images/3dprinterlauncher-icon.png" alt="{{ p.label }}" loading="lazy" />
            {% elif p.slug == 'fancy-clock' %}
              <img class="btn-thumb" src="/static/images/fancyclock-icon.png" alt="{{ p.label }}" loading="lazy" />
            {% elif cover %}
              <img class="btn-thumb" src="{{ cover }}" alt="{{ p.label }}" loading="lazy" />
            {% endif %}
            <span class="btn-text">
              {{ p.label }}
              {% if blurb %}
                <span class="btn-subtext">{{ blurb }}</span>
              {% endif %}
            </span>
          </a>
        {% endfor %}
      </div>
    </section>
  </section>

  <section class="landing-outro" aria-label="Outro">
    <div class="section-panel section-panel--intro">
      <p>
        If you are looking for CTO-level leadership, clarity matters.
      </p>

      <p>
        I work with organisations where decision ownership is either explicitly defined
        or clearly ready to be redesigned.
      </p>

      <p>
        I do not take accountability for outcomes without the authority to influence them.
      </p>

      <p>
        My work focuses on aligning authority with accountability,
        reducing decision latency and designing escalation surfaces
        that stabilise delivery in regulated and high-risk environments.
      </p>

      <hr class="post-separator post-separator--subtle" aria-hidden="true" />

      <section class="open-source-note">
        <p>
          Built deliberately. Structurally inspectable.</br>
          <a href="https://github.com/oernster/crankthecode" target="_blank" rel="noopener">
            [View the architecture]
          </a>
        </p>
      </section>

      <hr class="post-separator post-separator--subtle" aria-hidden="true" />

      <section id="contact" aria-label="Contact">
        <p>If the mandate is real, we can talk.</p>
        <p>
          <span class="landing-outro__email">
            <script type="text/javascript">
              (function () {
                const c = window.CTC_CONTACT;
                if (!c) {
                  return;
                }
                document.currentScript.insertAdjacentHTML(
                  "beforebegin",
                  `<a href="${c.link}">${c.address}</a>`
                );
              })();
            </script>
            <noscript>Enable JavaScript to reveal the email address.</noscript>
          </span>
        </p>
      </section>
    </div>
  </section>
{% endblock %}
