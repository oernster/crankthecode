{% extends "base.html" %}

{% block title %}CrankTheCode{% endblock %}

{% block content %}
  <section class="landing-intro" aria-label="Intro">
    <div class="section-panel section-panel--intro">
      <p class="landing-bio">
        I'm a developer with 28 years of experience building systems from military-grade comms to sarcasm APIs. I like
        efficient code, functional hardware, and documentation that doesn’t insult the reader.
      </p>
      <p>
        I build projects that usually start with ‘Wouldn’t it be ridiculous if…’ and end with
        something shippable and somehow useful.
      </p>
      <p>“I like clean APIs, efficient systems, and projects that solve problems even if no one asked them to.”</p>

      <hr class="post-separator post-separator--subtle" aria-hidden="true" />

      <h2 class="section-title section-title--accent">Things I build with</h2>
      <div class="build-with" aria-label="Things I build with">
        <div class="build-with-col">
          <h3 class="build-with-title">Backend</h3>
          <p class="build-with-items">Python, FastAPI, Django, Flask</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Frontend</h3>
          <p class="build-with-items">React, Typescript, HTML/CSS</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Tools</h3>
          <p class="build-with-items">Docker, Ansible, Terraform, Git</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Operating systems</h3>
          <p class="build-with-items">Linux, macOS, Windows</p>
        </div>
        <div class="build-with-col">
          <h3 class="build-with-title">Hardware</h3>
          <p class="build-with-items">Klipper, MicroPython, Voron printers</p>
        </div>
      </div>
    </div>
  </section>

  <section class="featured-projects" aria-label="Projects">
    <div class="section-panel section-panel--featured">
      <h2 class="section-title section-title--accent">Featured Projects...</h2>
      <div class="featured-buttons" aria-label="Featured project links">
        {% for p in homepage_projects.featured %}
          <a
            class="btn-link btn-link--with-thumb{% if loop.first %} btn-link--primary featured-primary{% endif %}"
            href="/posts/{{ p.slug }}"
          >
            {% set cover = homepage_cover_index.get(p.slug) %}
            {% set blurb = homepage_blurb_index.get(p.slug) %}
            {% if cover %}
              <img class="btn-thumb" src="{{ cover }}" alt="{{ p.label }}" loading="lazy" />
            {% endif %}
            <span class="btn-text">
              {{ p.label }}
              {% if blurb %}
                <span class="btn-subtext">{{ blurb }}</span>
              {% endif %}
            </span>
          </a>
        {% endfor %}
      </div>
    </div>

    <hr class="post-separator" aria-hidden="true" />

    <div class="section-panel section-panel--backlog">
      <h2 class="section-title section-title--accent">Backlog of Brilliance!</h2>
      <div class="featured-buttons" aria-label="Backlog project links">
        {% for p in homepage_projects.backlog %}
          <a class="btn-link btn-link--with-thumb" href="/posts/{{ p.slug }}">
            {% set cover = homepage_cover_index.get(p.slug) %}
            {% set blurb = homepage_blurb_index.get(p.slug) %}
            {% if cover %}
              <img class="btn-thumb" src="{{ cover }}" alt="{{ p.label }}" loading="lazy" />
            {% endif %}
            <span class="btn-text">
              {{ p.label }}
              {% if blurb %}
                <span class="btn-subtext">{{ blurb }}</span>
              {% endif %}
            </span>
          </a>
        {% endfor %}

        <a class="btn-link btn-link--subtle" href="/posts" aria-label="All posts">All</a>
      </div>
    </div>

    <hr class="post-separator" aria-hidden="true" />

    <div class="section-panel section-panel--launch">
      <h2 class="section-title section-title--accent">Site Launch...</h2>
      <div class="featured-buttons" aria-label="Site launch posts">
        <a class="btn-link btn-link--with-thumb" href="/posts/hello-crank">
          {% set cover = homepage_cover_index.get('hello-crank') %}
          {% if cover %}
            <img class="btn-thumb" src="{{ cover }}" alt="Hello Crank" loading="lazy" />
          {% endif %}
          <span class="btn-text">Hello Crank</span>
        </a>
        <a class="btn-link btn-link--with-thumb" href="/posts/why-crank">
          {% set cover = homepage_cover_index.get('why-crank') %}
          {% if cover %}
            <img class="btn-thumb" src="{{ cover }}" alt="Why Crank" loading="lazy" />
          {% endif %}
          <span class="btn-text">Why Crank</span>
        </a>
      </div>

      {# CTA moved to the global header (below “Crank The Code”) in base.html #}
    </div>
  </section>
{% endblock %}
